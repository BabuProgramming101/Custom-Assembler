Q1) What is the name of the attack that is possible when user-input is used directly in SQL queries without any sanitization or other countermeasures?

The name of the attack such that when user-input is put into SQL queries without sanitizaition or other countermeasures is called SQL injection. This is essentially when an attacker injects malicious SQL statements into entries field in order to execute such malicious statements and potentially disruipt the CIA (Confidentiality, Integrity, Availability) of databases.

Q2) Abusing this vulnerability, provide the username and password that an attacker can use to login as any user, without knowing that userâ€™s password. (You can find the login-related query in login.php)

For an attacker to first get a username and password, they would first need to extract a username and password. Even before that, they would have to retrieve the column names of where the username and password is stored. An attacker can do this using the following SQL statement: 'OR 1=1 UNION SELECT col_name FROM information_schema.columns WHERE table_name = 'users'. This will retrieve all the column names. From here, an attacker could then use the column names to extract the data stored in them like so: 'OR 1=1 UNION SELECT col_name FROM users. This would retrieve all the username data from the database 

Finally, once an attacker has a username that they received from their previous SQL injection, they can then perform SQL injection in the password field, such that to force the password field to always produce a truthy value. An example SQL injection would be: a'OR'a'='a, as this will essentially perform logical OR between the user inputted data and the attacker's a=a injection.

Q3) What does fail2ban do? How does it interact with iptables?

fail2ban is essentially a security software that is used to protect servers from brute-force attacks and password-guessers by notating potentially malicious acitvity such as failed login attempts within a specific window of time. Once a certain amount of attempts has been reached, fail2ban will essentially kickstart and ban the IP address from trying to connect to the server for a specified amount of time. 

In terms of iptables, because fail2ban is integreated with the linux firewall iptables, it essentially will interact with iptables by adding rules to the firewall. fail2ban will keep on listening for possibly malicious activity, then actively responding by dynamically adding to the iptables the offending IP address.
